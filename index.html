<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fastli.pl â€” Catch the Expert</title>
  <meta name="description" content="Play a quick game to promote Fastli.pl â€” catch as many expert icons as possible in 30 seconds and receive a discount code!" />
  <style>
    body { margin:0; font-family:sans-serif; background:#0f172a; color:#fff; text-align:center; }
    #hud { margin:1em; font-size:18px; }
    canvas { background:#1e293b; display:block; margin:0 auto; border:2px solid #00e0b8; border-radius:12px; }
    #overlay { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,.7); color:#fff; }
    #overlay.hidden { display:none; }
    button { margin:8px; padding:10px 18px; border:0; border-radius:8px; cursor:pointer; font-weight:bold; }
    .primary { background:#00e0b8; color:#002b28; }
    .secondary { background:#ff6363; color:#fff; }
  </style>
</head>
<body>
  <h1>ğŸ’š Fastli.pl â€” Catch the Expert</h1>
  <div id="hud">
    â± <span id="time">30</span>s &nbsp; | &nbsp; ğŸ† <span id="score">0</span> pts
  </div>
  <canvas id="game" width="600" height="400"></canvas>

  <div id="overlay">
    <div>
      <h2>Catch as many experts as you can in 30 seconds!</h2>
      <button id="startBtn" class="primary">â–¶ Start Game</button>
    </div>
  </div>

  <div id="end" class="hidden">
    <h2>ğŸ‰ Game Over</h2>
    <p>Your score: <b id="finalScore">0</b></p>
    <p>Your discount code:</p>
    <p style="font-size:22px; font-weight:bold; color:#ffd166;">FASTLI10</p>
    <button onclick="location.reload()" class="secondary">ğŸ”„ Play Again</button>
    <a href="https://fastli.pl" target="_blank"><button class="primary">ğŸš€ Go to Fastli.pl</button></a>
  </div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
let objects = [];
let score = 0;
let timeLeft = 30;
let timerId;
let running = false;

class Obj {
  constructor(x,y,dx,dy,emoji){
    this.x=x; this.y=y; this.dx=dx; this.dy=dy; this.emoji=emoji; this.size=32;
  }
  draw(){
    ctx.font=this.size+"px Arial"; ctx.textAlign="center"; ctx.textBaseline="middle";
    ctx.fillText(this.emoji,this.x,this.y);
  }
  update(){
    this.x+=this.dx; this.y+=this.dy;
    if(this.x<20||this.x>canvas.width-20) this.dx*=-1;
    if(this.y<20||this.y>canvas.height-20) this.dy*=-1;
    this.draw();
  }
  hit(mx,my){ return Math.abs(mx-this.x)<20 && Math.abs(my-this.y)<20; }
}

function spawn(){
  const x=Math.random()*canvas.width, y=Math.random()*canvas.height;
  const dx=(Math.random()*2-1)*3, dy=(Math.random()*2-1)*3;
  const emoji="ğŸ‘·";
  objects.push(new Obj(x,y,dx,dy,emoji));
}

function draw(){
  if(!running) return;
  ctx.clearRect(0,0,canvas.width,canvas.height);
  objects.forEach(o=>o.update());
  requestAnimationFrame(draw);
}

canvas.addEventListener("click", e=>{
  if(!running) return;
  const rect=canvas.getBoundingClientRect();
  const mx=e.clientX-rect.left, my=e.clientY-rect.top;
  for(let i=0;i<objects.length;i++){
    if(objects[i].hit(mx,my)){
      score+=10;
      objects.splice(i,1);
      spawn();
      document.getElementById("score").textContent=score;
      break;
    }
  }
});

function startGame(){
  document.getElementById("overlay").classList.add("hidden");
  running=true;
  score=0; timeLeft=30; objects=[];
  document.getElementById("score").textContent=0;
  document.getElementById("time").textContent=timeLeft;
  for(let i=0;i<5;i++) spawn();
  draw();
  timerId=setInterval(()=>{
    timeLeft--; document.getElementById("time").textContent=timeLeft;
    if(timeLeft<=0) endGame();
  },1000);
}

function endGame(){
  running=false; clearInterval(timerId);
  document.getElementById("finalScore").textContent=score;
  document.getElementById("end").classList.remove("hidden");
}

document.getElementById("startBtn").addEventListener("click",startGame);
</script>
</body>
</html>
